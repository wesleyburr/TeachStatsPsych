<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Teaching Reproducibility and Replicability in Statistics</title>
    <meta charset="utf-8" />
    <meta name="author" content="Wesley S. Burr – Trent University     wsburr     @wsburr    wesleyburr@trentu.ca  " />
    <script src="libs/header-attrs-2.7/header-attrs.js"></script>
    <script src="https://use.fontawesome.com/5235085b15.js"></script>
    <link rel="stylesheet" href="example.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Teaching Reproducibility and Replicability in Statistics
### Wesley S. Burr – <a href="http://www.trentu.ca/math/">Trent University</a> <br> <a href="http://github.com/wesleyburr"><i class="fa fa-github fa-fw"></i>  wsburr</a><br> <a href="http://twitter.com/wsburr"> <i class="fa fa-twitter fa-fw"></i>  <span class="citation">@wsburr</span></a><br> <a href="mailto:wesleyburr@trentu.ca"><i class="fa fa-paper-plane fa-fw"></i>  wesleyburr@trentu.ca</a><br><br/>
### 2021-05-06, 15:15-16:15

---


# Background: Reproducibility



---

class: inverse

## Reproducibility 

In this workshop, I am specifically interested in discussing ways in which to encourage
students to develop strong reproducible research **methods**, particularly with 
respect to their data gathering, manipulation, and analysis.

&lt;br/&gt;
I will gratefully leave the discussions of specific issues in general reproducibility
in the psychological sciences to domain experts. 

---

class: inverse

## Reproducible Research Methods

First published work I am aware of that discusses the specific framework I am
thinking of here (computational reproducibility) is 1990-92, J. Claerbout 
at Stanford:

&lt;br/&gt;

J. Claerbout, M. Karrenbach, **Electronic documents give reproducible research a new meaning**, in Proceedings of the 62nd Annual International Meeting of the Society of Exploration Geophysics, New Orleans, USA, 25 to 29 October 1992.

---

class: inverse

## Reproducible Research Methods

Some quotes:

&lt;br/&gt;
* *a revolution in education and technology transfer follows from the marriage of word processing and software command scripts*
* *researchers ... can reproduce their own research results a year or more later by "pressing a single button"*
* *Our basic goal is reproducible research. The electronic document is our means to this end*

&lt;br/&gt;
https://doi.org/10.1190/1.1822162

---

class: inverse

## Definition

&lt;br/&gt;
... the idea that scientific results should be documented in such a way that their deduction is fully transparent. This requires a detailed description of the methods used to obtain the data and making the full dataset and the code to calculate the results easily accessible.
**This is the essential part of open science.**

&lt;br/&gt;
*Wikipedia, https://en.wikipedia.org/wiki/Reproducibility*

---

class: inverse

## Some Necessary Components

To make any research project computationally reproducible

* all data and files clearly:
    - separated
    - labelled
    - documented
* all operations should be automated as much as practicable, avoiding manual intervention 
* workflow designed as a sequence of steps (scripts!), combined so intermediate outputs from one step directly feed in as inputs to the next
* version control should be used

---

class: inverse

## Workflow Includes

* data acquisition

---

class: inverse

## Workflow Includes

* data acquisition
* data processing
    - entry
    - manipulation
    - filtering

---

class: inverse

## Workflow Includes

* data acquisition
* data processing
    - entry
    - manipulation
    - filtering
* data analysis
    - computation of statistics
    - figures
    - model-fitting (including interim steps!) - avoid The Garden of Forking Paths!
    - linear flow, resist urge to modify earlier steps (HARKing)

---

class: inverse

## Reproducible Science Curriculum

https://github.com/Reproducible-Science-Curriculum/

&lt;br/&gt;
* (Good) There is a folder for the raw data, which do not get altered, or intermixed with data that is the result of manual or programmatic manipulation, i.e., derived data is kept separate from raw data, and raw data are not duplicated.
* (Good) Code is kept separate from data.

---

class: inverse

## Reproducible Science Curriculum

* (Better) Manuscript production output is kept separate from everything else.
* (Good) There is a scratch directory for experimentation. Everything in the scratch directory can be deleted at any time without negative impact.
* (Better) There should be a README in every directory, describing the purpose of the directory and its contents.

---

class: inverse

## Reproducible Science Curriculum

* (Best) There is a top-level Makefile or Rmarkdown file that documents the computational study in executable form. Those files may call out to other Makefile's or .Rmd files in subdirectories.
* (Best) There is a formal metadata descriptor at the root of the package that describes all the important input and output data files.
* (Meta) The template structure should have no special software or skill prerequisites to install. Specifically, deploying the template structure should not require installing git, or using the command line.

---

class: inverse

## Researcher Point of View

I strongly endorse **Data Carpentry**, workshops teaching scientists
basic skills in this sort of thinking.

&lt;br/&gt;
Even if you don't do this for your research, if you expect to teach it properly,
you have to know how to do it! 

&lt;br/&gt;
*Physician, heal thyself*

&lt;br/&gt;
https://datacarpentry.org/
---

class: inverse

## Tips for Getting Started in Small Ways

* force yourself to organize your course materials in a coherent manner
* use Git to store your course materials (make them available freely!)
* create your slides in R Markdown or an equivalent
* integrate software into lectures and the classroom, not only labs and workshops
* always be learning!

---

class: inverse

## Inspiration

File organization and naming
are powerful weapons against chaos.
- Jenny Bryan

---

class: inverse

## Inspiration

Your closest collaborator is you six months ago,
but you don’t reply to emails.
- Mark Holder


---

class: inverse

## Basic Principles

Basic principles

Step 1: slow down and document.
Step 2: have sympathy for your future self.
Step 3: have a system.

---

# Translating All of This to Teaching

---

class: inverse

# R Markdown

---

class: inverse

## Testing



---

## An Example of One Sample

&lt;center&gt;
&lt;img src="./figure/magneto1.png" style="width:900px;"/&gt;
&lt;/center&gt;

---

layout: false
class: inverse, middle

&lt;center&gt;
&lt;a href="http://www.trentu.ca/math/"&gt;&lt;img src="figure/trent.png" style="width: 200px;"/&gt;&lt;/a&gt; &amp;emsp;&amp;emsp;
&lt;a href="https://creativecommons.org/licenses/by/4.0/"&gt;&lt;img src="figure/cc.png" style="width: 200px;"/&gt;&lt;/a&gt;
&lt;/center&gt;

- Contact me: [Email](mailto:wesleyburr@trentu.ca) or [Twitter](https://twitter.com/wsburr)
- Slides created via the R package [xaringan](https://github.com/yihui/xaringan) by Yihui Xie
- Slides available at [GitHub](https://wesleyburr.github.io/TeachingStatsPsych/#1)
&lt;br/&gt;
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "tomorrow-night-bright",
"highlightLines": true,
"highlightLanguage": "r"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
