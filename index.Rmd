---
title: "(Some Musings On) Teaching Reproducibility in Statistics"
author: 'Wesley S. Burr -- <a href="http://www.trentu.ca/math/">Trent University</a> <br> <a href="http://github.com/wesleyburr"><i class="fa fa-github fa-fw"></i>&nbsp; wsburr</a><br> <a href="http://twitter.com/wsburr"> <i class="fa fa-twitter fa-fw"></i>&nbsp; @wsburr</a><br> <a href="mailto:wesleyburr@trentu.ca"><i class="fa fa-paper-plane fa-fw"></i>&nbsp; wesleyburr@trentu.ca</a><br><br/>'
date: 2021-05-06, 15:15-16:15
output:
  xaringan::moon_reader:
    chakra: remark-latest.min.js
    lib_dir: libs
    nature:
      highlightStyle: tomorrow-night-bright
      highlightLines: true
      highlightLanguage: r
    includes:
      in_header: header.html
    countIncrementalSlides: false
    css: example.css
    transition: fade
---

# Background: Reproducibility

```{r include=FALSE}
library(ggplot2)
filter <- dplyr::filter
knitr::opts_chunk$set(warning=FALSE, message=FALSE, fig.width=10.5, fig.height=4, 
  comment=NA, rows.print=16)
theme_set(theme_gray(base_size = 24))
```

---

class: inverse

## Reproducibility 

In this workshop, I am specifically interested in discussing ways in which to encourage
students to develop skills and habits for strong reproducible research **methods**, particularly with 
respect to their data gathering, manipulation, and analysis.

<br/>
I will gratefully leave the discussions of specific issues in general reproducibility
in the psychological sciences to domain experts. 

---

class: inverse

## Reproducible Research Methods

First published work I am aware of that discusses the specific framework I am
thinking of (computational reproducibility) is 1990-92, J. Claerbout 
at Stanford:

<br/>

J. Claerbout, M. Karrenbach, **Electronic documents give reproducible research a new meaning**, in Proceedings of the 62nd Annual International Meeting of the Society of Exploration Geophysics, New Orleans, USA, 25 to 29 October 1992.

---

class: inverse

## Reproducible Research Methods

Some quotes:

<br/>
* *a revolution in education and technology transfer follows from the marriage of word processing and software command scripts*
* *researchers ... can reproduce their own research results a year or more later by "pressing a single button"*
* *Our basic goal is reproducible research. The electronic document is our means to this end*

<br/>
https://doi.org/10.1190/1.1822162

---

class: inverse

## Definition

<br/>
... the idea that scientific results should be documented in such a way that their deduction is fully transparent. This requires a detailed description of the methods used to obtain the data and making the full dataset and the code to calculate the results easily accessible.
**This is the essential part of open science.**

<br/>
*Wikipedia, https://en.wikipedia.org/wiki/Reproducibility*

---

class: inverse

## Some Necessary Components

To make any research project computationally reproducible

* all data and files clearly:
    - separated
    - labelled
    - documented
* all operations should be automated as much as practicable, avoiding manual intervention 
* workflow designed as a sequence of steps (**scripts!**), combined so intermediate outputs from one step directly feed in as inputs to the next
* version control should be used

---

class: inverse

## Workflow Includes

* data acquisition

---

class: inverse

## Workflow Includes

* data acquisition
* data processing
    - entry
    - manipulation
    - filtering

---

class: inverse

## Workflow Includes

* data acquisition
* data processing
    - entry
    - manipulation
    - filtering
* data analysis
    - computation of statistics
    - figures
    - model-fitting (including interim steps!) - avoid The Garden of Forking Paths!
    - linear flow, resist urge to modify earlier steps (HARKing)

---

class: inverse

## Reproducible Science Curriculum

https://github.com/Reproducible-Science-Curriculum/

<br/>
* (Good) There is a folder for the raw data, which do not get altered, or intermixed with data that is the result of manual or programmatic manipulation, i.e., derived data is kept separate from raw data, and raw data are not duplicated.
* (Good) Code is kept separate from data.

---

class: inverse

## Reproducible Science Curriculum

* (Better) Manuscript production output is kept separate from everything else.
* (Good) There is a scratch directory for experimentation. Everything in the scratch directory can be deleted at any time without negative impact.
* (Better) There should be a README in every directory, describing the purpose of the directory and its contents.

---

class: inverse

## Reproducible Science Curriculum

* (Best) There is a top-level Makefile or Rmarkdown file that documents the computational study in executable form. Those files may call out to other Makefile's or .Rmd files in subdirectories.
* (Best) There is a formal metadata descriptor at the root of the package that describes all the important input and output data files.
* (Meta) The template structure should have no special software or skill prerequisites to install. Specifically, deploying the template structure should not require installing git, or using the command line.

---

class: inverse

## Researcher Point of View

I strongly endorse **Data Carpentry**, workshops teaching scientists
basic skills in this sort of thinking.

<br/>
Even if you don't do this for your research, if you expect to teach it properly,
you have to know how to do it! 

<br/>
*Physician, heal thyself*

<br/>
https://datacarpentry.org/
---

class: inverse

## Tips for Getting Started in Small Ways

* force yourself to organize your course materials in a coherent manner
* use Git to store your course materials (make them available freely!)
* create your slides in R Markdown or an equivalent
* integrate software into lectures and the classroom, not only labs and workshops
* always be learning!

---

class: inverse

## Inspiration

File organization and naming
are powerful weapons against chaos.
- Jenny Bryan

---

class: inverse

## Inspiration

Your closest collaborator is you six months ago,
but you don’t reply to emails.
- Mark Holder


---

class: inverse

## Basic Principles

Basic principles

Step 1: slow down and document.<br/>
Step 2: have sympathy for your future self.<br/>
Step 3: have a system.<br/>

---

# Translating All of This to Teaching

---

class: inverse

## What Not to Do

* teach Excel
    - Excel is **not** a tool for science. Period.
* teach any menu-driven system (e.g., SPSS, Stata)
    - while powerful, not reproducible - teaches bad habits!
* use only examples that are small enough to type out manually
    - misleading, hides where the work may be
* use (fully) clean data (next slides)
    - misleading, hides the nitty gritty
* hide the mess from students!

---

background-image: url("figure/tidydata_3.jpg")
background-position: center
background-size: contain

## Tame and Wild Data

---

background-image: url("figure/tidydata_1.jpg")
background-position: center
background-size: contain

## Tidy Data


---

background-image: url("figure/tidydata_2.jpg")
background-position: center
background-size: contain

## Tidy Data

<div class="footer">
Artwork by @allison_horst</div>

---

class: inverse

# R Markdown



---

# Self Training

---

class: inverse

## Some Good References to Get Started

Materials for a 3-hour Workshop on R Markdown: [R Markdown Training](https://hbctraining.github.io/Training-modules/Rmarkdown/) <br/>
The Data Carpentry Initiative: [Data Carpentry](https://datacarpentry.org/) <br/>
A Coursera Course: [Reproducible Research with R Markdown](https://www.coursera.org/learn/reproducible-research) <br/>
The Book: [R Markdown, the Definitive Guide](https://bookdown.org/yihui/rmarkdown/) <br/>

---

class: inverse

## References

[Reproducible Science Curriculum](https://github.com/Reproducible-Science-Curriculum/)<br/>
Drs. Goodman, Fanelli, Ioannidis [What does research reproducibility mean?](https://stm.sciencemag.org/content/8/341/341ps12#ref-4)<br/>
[Special Issue on Reproducible Research)[https://ieeexplore.ieee.org/document/4720217)<br/>
Dr. Allison Horst, [Illustrations](https://github.com/allisonhorst/stats-illustrations)<br/>
Dr. Albert Kim, [Tame Data](https://rpubs.com/rudeboybert/fivethirtyeight_tamedata)<br/>
[Reproducible Science Curriculum](https://github.com/Reproducible-Science-Curriculum/)
Dr. Mine Çetinkaya-Rundel, [Teaching R, 5 Principles](https://mine-cetinkaya-rundel.github.io/2021-teach-r-five-principles-liverpool/)
[Anything Dr. Mine Çetinkaya-Rundel Creates](https://github.com/mine-cetinkaya-rundel)

---

layout: false
class: inverse, middle

<center>
<a href="http://www.trentu.ca/math/"><img src="figure/trent.png" style="width: 200px;"/></a> &emsp;&emsp;
<a href="https://creativecommons.org/licenses/by/4.0/"><img src="figure/cc.png" style="width: 200px;"/></a>
</center>

- Contact me: [Email](mailto:wesleyburr@trentu.ca) or [Twitter](https://twitter.com/wsburr)
- Slides created via the R package [xaringan](https://github.com/yihui/xaringan) by Yihui Xie
- Slides available at [GitHub](https://wesleyburr.github.io/TeachingStatsPsych/#1)
<br/>
